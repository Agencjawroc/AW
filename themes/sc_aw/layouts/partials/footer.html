{{ $footer := site.Data.footer }}
{{with $footer}}
<footer class='sec-padding'>
  <div class="first-row">
    {{with .pierwsza_kolumna}}
    <div class='first-col'>
      {{- partial "img.html" (dict "image" .logo "imgsizes" "" "tag_class" "footer-logo" "ifsrcset" "nosrcset")  -}}
      <div class='footer-address'>
        {{.opis  | safeHTML}}
      </div>
    </div>
    {{end}}
    {{with .druga_kolumna}}
    <div class='second-col'>
      <ul>
      {{range .}}
        {{$tytul_odnosnika:=.tytul_odnosnika}}
        {{ with site.GetPage .wybierz_odnosniki }}
            
            <li><a href="{{.RelPermalink}}">{{$tytul_odnosnika}}</a></li>
        {{end}}
        
      {{end}}
      </ul>
    </div>
    {{end}}
    {{with .trzecia_kolumna}}
    <div class='third-col'>
      <ul>
      {{range .}}
        {{$tytul_odnosnika:=.tytul_odnosnika}}
        {{ with site.GetPage .adres_odnosnika }}
            
            <li><a href="{{.RelPermalink}}">{{$tytul_odnosnika}}</a></li>
        {{end}}
        
      {{end}}
      </ul>
    </div>
    {{end}}
  </div>
  {{with .wiersz_dolny }}
  <div class="second-row">
    {{ .tekst | safeHTML}}
  </div>
  {{end}}
</footer>
{{end}}
<script>
document.addEventListener("DOMContentLoaded", function() {
  var all_modal_cta=document.querySelectorAll('.open-modal-quote');
  if(all_modal_cta.length>0){
    for (var i = 0; i < all_modal_cta.length; i++) {
        
        all_modal_cta[i].addEventListener('click',function(e){
            e.preventDefault();
            var modal_target = this.dataset.modaltarget;
            modal_target="[data-modalname='"+modal_target+"']";
            document.querySelector(modal_target).classList.toggle('modal-active');
        });
    }
  }
  document.addEventListener(
    "click",
    function(event) {
      // If user either clicks X button OR clicks outside the modal window, then close modal by calling closeModal()
      if (
        event.target.matches(".button-close-modal") ||
        (!event.target.closest(".modal-wrapper") &&!event.target.closest(".open-modal-quote"))
      ) {
        closeModal();
      }
    },
    false
  )

  function closeModal() {
    var modal_quote_outer =  document.querySelector(".modal-quote-outer");
    if(modal_quote_outer)
    modal_quote_outer.classList.remove('modal-active');
  }



  //mobile nav opne submenu
  var all_nav_parent_items= document.querySelectorAll('nav .parent > a');
  if(all_nav_parent_items.length>0){
    for (var i = 0; i < all_nav_parent_items.length; i++) {
        
        all_nav_parent_items[i].addEventListener('click',function(e){
            e.preventDefault();
      
            this.parentNode.classList.toggle('mobile-sub-open');
        });
    }
  }
  var menu_btn_cnt = document.querySelector('.menu-btn-cnt');
  menu_btn_cnt.addEventListener('click',function(e){
    e.preventDefault();
    document.querySelector('header').classList.toggle('menu-mobile-opened');
    
    
  });
  //END mobile nav opne submenu
});

</script>